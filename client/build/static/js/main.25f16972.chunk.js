(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],[,,,,,,,function(e,t,a){e.exports=a(15)},,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),l=a(2),o=a.n(l),r=(a(12),a(13),a(3)),i=a(4),c=a(6),u=a(5),m=(a(14),function(e){var t={width:"20%"},a=e.results,n=e.submitted;return""!==a&&"No results"!==a&&1==n?s.a.createElement("div",{className:"search-input-container"},s.a.createElement("span",{className:"search-input-description"},s.a.createElement("p",null,"Results:")),s.a.createElement("div",{className:"w3-row w3-border"},s.a.createElement("div",{className:"w3-col w3-small",style:{width:"38%"}},s.a.createElement("b",null,"Food/Beverage")),s.a.createElement("div",{className:"w3-col w3-small",style:t},s.a.createElement("b",null,"Portion Size")),s.a.createElement("div",{className:"w3-col w3-small",style:t},s.a.createElement("b",null,"Total Calories")),s.a.createElement("div",{className:"w3-col w3-small",style:t},s.a.createElement("b",null,"Calories from Fat"))),a):1==n?s.a.createElement("div",null,s.a.createElement("div",null,"No search results")):s.a.createElement("div",null)}),h=function(e){Object(c.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onChange=function(e){var t=n.props.suggestions,a=e.currentTarget.value,s=t.filter((function(e){return e.toLowerCase().indexOf(a.toLowerCase())>-1}));n.setState({activeSuggestion:0,filteredSuggestions:s,showSuggestions:!0,userInput:e.currentTarget.value})},n.onClick=function(e){n.setState({activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:e.currentTarget.innerText})},n.handleClear=function(){n.setState({activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:"",searchResults:"",submitted:!1})},n.handleSubmit=function(e){e.preventDefault();var t={q:n.state.userInput},a=new URLSearchParams(t),l="".concat(n.props.submitAction,"?").concat(a.toString());fetch(l,{method:n.props.method,credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0,"Access-Control-Allow-Origin":!0}}).then((function(e){return e.json()})).then((function(e){var t={width:"38%"},a={width:"20%"};n.setState({submitted:!0}),n.setState({searchResults:e.map((function(e){return s.a.createElement("div",{className:"w3-row w3-border"},s.a.createElement("div",{className:"w3-col w3-small",style:t},e.Display_Name),s.a.createElement("div",{className:"w3-col w3-small",style:a},e.Portion_Amount," ",e.Portion_Display_Name),s.a.createElement("div",{className:"w3-col w3-small",style:a},Math.round(e.Calories)),s.a.createElement("div",{className:"w3-col w3-small",style:a},Math.round(e.Solid_Fats)))}))}),0===e.length&&n.setState({searchResults:"No results"})})).catch((function(){console.log("error"),this.setState({searchResults:"An error has occurred: Please try again."})})),n.setState({userInput:""})},n.onKeyDown=function(e){var t=n.state,a=t.activeSuggestion,s=t.filteredSuggestions;if(13===e.keyCode)n.setState({activeSuggestion:0,showSuggestions:!1,userInput:s[a]});else if(38===e.keyCode){if(0===a)return;n.setState({activeSuggestion:a-1})}else if(40===e.keyCode){if(a-1===s.length)return;n.setState({activeSuggestion:a+1})}},n.state={activeSuggestion:0,filteredSuggestions:[],showSuggestions:!1,userInput:"",searchResults:"",submitted:!1},n}return Object(i.a)(a,[{key:"render",value:function(){var e,t=this.onChange,a=this.onClick,l=this.onKeyDown,o=this.handleClear,r=this.handleSubmit,i=this.state,c=i.activeSuggestion,u=i.filteredSuggestions,h=i.showSuggestions,d=i.userInput;return h&&d&&(e=u.length?s.a.createElement("table",{className:"suggestions"},s.a.createElement("tbody",null,u.map((function(e,t){var n;return t===c&&(n="suggestion-active"),s.a.createElement("tr",{key:e},s.a.createElement("td",{className:n,key:e,onClick:function(e){return a(e)}},e))})))):s.a.createElement("div",{className:"no-suggestions"},s.a.createElement("em",null,"No suggestions, you're on your own!"))),s.a.createElement(n.Fragment,null,s.a.createElement("link",{rel:"stylesheet",href:"https://www.w3schools.com/w3css/4/w3.css"}),s.a.createElement("div",null,s.a.createElement("div",{className:"logo-container"},s.a.createElement("img",{src:"./Calorie.png",alt:"calorie trax logo",className:"logo"}))),s.a.createElement("div",null,s.a.createElement("form",{id:"url-entry",action:this.props.submitAction,method:this.props.method,onSubmit:function(e){return r(e)},className:"search-input-container"},s.a.createElement("span",{className:"subhead"},s.a.createElement("p",null,"Get accurate nutritional information-- calories, fat content and more-- for over 1,000 common food and beverage items.")),s.a.createElement("div",{className:"w3-row"},s.a.createElement("div",{className:"w3-col s3 l2"},s.a.createElement("label",null,s.a.createElement("span",{className:"search-input-description"},"Search food:  "))),s.a.createElement("div",{className:"w3-col s6 l4"},s.a.createElement("input",{type:"text",onChange:t,onKeyDown:l,value:d,className:"search-input"}),e,s.a.createElement("br",null),s.a.createElement("div",{className:"button-container"},s.a.createElement("button",{className:"button"},"Submit"),s.a.createElement("input",{type:"reset",onClick:function(){return o()},value:"Clear"})))))),s.a.createElement("div",{className:"w3-row"},s.a.createElement(m,{results:this.state.searchResults,submitted:this.state.submitted})))}}]),a}(n.Component);h.defaultProps={suggestions:[]};var d=h,g=function(e){var t=[];return Object(n.useEffect)((function(){fetch(e.initAction,{method:e.method,credentials:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","Access-Control-Allow-Credentials":!0,"Access-Control-Allow-Origin":!0}}).then((function(e){return e.json()})).then((function(e){if(0==e.length)t.push("An error has occurred: Please reload the page");else for(var a=0;a<e.length;a++)t.push(e[a].Display_Name)})).catch((function(){console.log("error"),t.push("An error has occurred: Please reload the page")}))}),[]),s.a.createElement("div",{className:"App"},s.a.createElement("link",{href:"https://fonts.googleapis.com/css2?family=Oswald&display=swap",rel:"stylesheet"}),s.a.createElement("link",{href:"https://fonts.googleapis.com/css2?family=Roboto:wght@300&display=swap",rel:"stylesheet"}),s.a.createElement(d,{method:e.method,initAction:e.initAction,submitAction:e.submitAction,suggestions:t}))};g.defaultProps={initAction:"http://localhost:5000/api/getall",submitAction:"http://localhost:5000/api/search",method:"get"};var p=g;Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(p,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}],[[7,1,2]]]);
//# sourceMappingURL=main.25f16972.chunk.js.map